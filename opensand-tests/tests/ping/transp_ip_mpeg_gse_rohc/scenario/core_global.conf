<?xml version='1.0' encoding='UTF-8'?>
<configuration component="all">
    <!-- The global configuration for all components -->
    <global>
        <!-- The satellite payload type (regenerative, transparent) -->
        <satellite_type>transparent</satellite_type>
        <!-- The delay to simulate (ms) (for GW and SAT only) -->
        <delay>250</delay>
        <!-- The down/forward MODCOD definition file -->
        <down_forward_modcod_def>/etc/opensand/modcod/down_forward_def.txt</down_forward_modcod_def>
        <!-- The down_forward MODCOD simulation file -->
        <down_forward_modcod_simu>/etc/opensand/modcod/down_forward_simu.txt</down_forward_modcod_simu>
        <!-- The up/return link MODCOD definition file -->
        <up_return_modcod_def>/etc/opensand/modcod/up_return_def.txt</up_return_modcod_def>
        <!-- The up/return link MODCOD simulation file -->
        <up_return_modcod_simu>/etc/opensand/modcod/up_return_simu.txt</up_return_modcod_simu>
        <!-- how often do we refresh the adaptive physical layer scenario (ms) -->
        <dvb_scenario_refresh>1000</dvb_scenario_refresh>
        <!-- The DVB frame duration (default: 53) -->
        <frame_duration>53</frame_duration>
        <!-- The uplink/return link encapsulation scheme -->
        <up_return_encap_schemes>
            <encap_scheme pos="0" encap="ULE" />
            <encap_scheme pos="1" encap="MPEG2-TS" />
        </up_return_encap_schemes>
        <!-- The downlink/forward link encapsulation scheme -->
        <down_forward_encap_schemes>
            <encap_scheme pos="0" encap="GSE" />
        </down_forward_encap_schemes>
    </global>
    <!-- The up/return link band configuration -->
    <up_return_band>
        <bandwidth>10</bandwidth>
        <!-- The roll-off factor for up/return link:
              - 0.35 for RCS
              - 0.2 for RCS2
              - 0.35, 0.25 or 0.2 for S2 -->
        <roll_off>0.35</roll_off>
        <!-- The carriers distribution -->
        <carriers_distribution>
            <!-- Description of carriers distribution amonig categories
                  - access_type: the type of multiplexing (DAMA or ALOHA (no yet supported))
                  - category: the category to which the carriers belong
                  - ratio: the occupation ratio of bandwidth dedicated for this type of
                           carriers within the (forward or return) frequency plan
                  - symbol_rate (bauds): The symbol rate (in bauds) allowing to compute
                                         the number of carriers of this type, in
                                         combination with ratio
                  - fmt_group: The MODCOD group ID" representing the possible set of
                               MODCOD(s) for this carrier
            -->
            <carriers access_type="DAMA" category="Standard" ratio="10" symbol_rate="1E6" fmt_group="1" />
            <!-- Example of return link composition : here, composed of 3 carriers type
            <! if fmt_group 1 and 2 contains each a single MODCOD this defines a compliant DVB-RCS frequency plan
            <carriers access_type="DAMA" carriers  category="Standard" ratio="25" symbol_rate="1E6" fmt_group="1" />
            <carriers access_type="DAMA" carriers  category="Premium" ratio="25" symbol_rate="2E6" fmt_group="2" />
            <carriers access_type="DAMA" carriers  category="Pro" ratio="50" symbol_rate="4E6" fmt_group="2" /> -->
        </carriers_distribution>
        <!-- The terminal affectation in categories -->
        <tal_affectations>
            <tal_affectation tal_id="1" category="Standard" />
            <tal_affectation tal_id="3" category="Standard" />
        </tal_affectations>
        <!-- The default terminal affectation in categories -->
        <tal_default_affectation>Standard</tal_default_affectation>
        <!-- The FMT groups defining supported FMT per categories
             Use ';' separator for unique ID, '-' separator for 
             all the ID between bounds -->
        <fmt_groups>
            <group id="1" fmt_id="7" />
        </fmt_groups>
    </up_return_band>
    <!-- The down/forward link band configuration -->
    <down_forward_band>
        <!-- Bandwidth for down/forward link (MHz) -->
        <bandwidth>36</bandwidth>
        <!-- The roll-off factor for down/forward link -->
        <roll_off>0.25</roll_off>
        <!-- The carriers distribution -->
        <carriers_distribution>
            <!-- Description of carriers distribution amonig categories
                  - access_type: the type of multiplexing (TDM)
                  - category: the category to which the carriers belong
                  - ratio: the occupation ratio of carrier on bandwidth
                  - symbol_rate (bauds): in combination with ratio, allows to
                                         compute the number of carriers of this type
                  - fmt_group: the MODCOD group ID representing the carrier
            -->
            <carriers access_type="TDM" category="Standard" ratio="10" symbol_rate="28.8E6" fmt_group="1"  />
            <!-- Example of forward link composition : here, composed of 2 carriers type
            if fmt_group 1 contains a single MODCOD this defines a CCM carrier
            <carriers access_type="TDM" category="Standard" ratio="50" symbol_rate="28.8E6" fmt_group="1"/>
            if fmt_group 2 contains several MODCOD this defines an ACM carrier
            <carriers access_type="TDM" category="Standard" ratio="50" symbol_rate="28.8E6" fmt_group="2"/> -->
        </carriers_distribution>
        <!-- The terminal affectation in categories -->
        <tal_affectations>
            <tal_affectation tal_id="1" category="Standard" />
        </tal_affectations>
        <!-- The default terminal affectation in categories -->
        <tal_default_affectation>Standard</tal_default_affectation>
        <!-- The FMT groups defining supported FMT per categories
             Use ';' separator for unique ID, '-' separator for 
             all the ID between bounds -->
        <fmt_groups>
            <group id="1" fmt_id="28" />
            <!-- <group id="1" fmt_id="1;2;3-10;11-23" />-->
        </fmt_groups>
    </down_forward_band>
    <mac_layer>
        <!-- The number of frames per superframe -->
        <frames_per_superframe>2</frames_per_superframe>
    </mac_layer>
    <slotted_aloha>
        <superframes_per_saframe>3</superframes_per_saframe>
    </slotted_aloha>
    <!-- This table contain the number of the column corresponding to each
         terminal in the MODCOD simulation files -->
    <simulation_column>
        <columns>
            <column tal_id="0" column_nbr="1532" />
            <column tal_id="1" column_nbr="14" />
            <column tal_id="2" column_nbr="469" />
            <column tal_id="3" column_nbr="3" />
            <column tal_id="4" column_nbr="4" />
            <column tal_id="5" column_nbr="5" />
        </columns>
    </simulation_column>
    <!-- The physical layer configuration -->
    <physical_layer>
        <!-- enable the physical Layer (true/false) -->
        <enable>false</enable>
        <!-- the channel refreshing period (ms) -->
        <granularity>1000</granularity>
    </physical_layer>
    <!-- The satellite carriers description -->
    <sat_carrier>
        <!-- The type of the socket (SOCK_DGRAM: UDP) -->
        <socket_type>SOCK_DGRAM</socket_type>
    </sat_carrier>
    <perf>
         <udp_rmem>1048580</udp_rmem>
        <udp_wmem>1048580</udp_wmem>
        <udp_stack>5</udp_stack>
        <forward_timer>10</forward_timer>
        <statistics_timer>53</statistics_timer>
    </perf>
</configuration>
